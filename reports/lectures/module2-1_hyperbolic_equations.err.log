Traceback (most recent call last):
  File "/home/vbarra/.local/share/pipx/venvs/jupyter-book/lib/python3.12/site-packages/jupyter_core/utils/__init__.py", line 154, in wrapped
    asyncio.get_running_loop()
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/vbarra/.local/share/pipx/venvs/jupyter-book/lib/python3.12/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/home/vbarra/.local/share/pipx/venvs/jupyter-book/lib/python3.12/site-packages/nbclient/client.py", line 1319, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vbarra/.local/share/pipx/venvs/jupyter-book/lib/python3.12/site-packages/jupyter_core/utils/__init__.py", line 158, in wrapped
    return loop.run_until_complete(inner)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/vbarra/.local/share/pipx/venvs/jupyter-book/lib/python3.12/site-packages/nbclient/client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "/home/vbarra/.local/share/pipx/venvs/jupyter-book/lib/python3.12/site-packages/nbclient/client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/home/vbarra/.local/share/pipx/venvs/jupyter-book/lib/python3.12/site-packages/nbclient/client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
# -------------------------------
# Shared FD utilities (plus `diff1_mat` from Module 1-7)
# -------------------------------

"""First-derivative differentiation matrix on a uniform grid.

- interior: 2nd-order centered
- boundaries: 1st-order one-sided
"""
# Dfferentiation matrix for a first-derivative
function diff1_mat(x)
    n = length(x)
    D = zeros(n, n)
    h = x[2] - x[1]
    D[1, 1:2] = [-1/h  1/h]              # Use a first-order forward difference at the left boundary
    for i in 2:n-1
        D[i, i-1:i+1] = [-1/2h  0  1/2h] # In the interior points, use a second-order centered difference
    end
    D[n, n-1:n] = [-1/h  1/h]            # Use a first-order backward difference at the right boundary
    D
end

"""Apply homogeneous Dirichlet BCs in-place."""
apply_dirichlet0!(u) = (u[1] = 0.0; u[end] = 0.0; u)

"""Convenience: uniform grid spacing."""
\Delta x(x) = x[2] - x[1]

# -------------------------------
# Hyperbolic solvers as functions
# -------------------------------

"""Leapfrog (CTCS) for linear advection u_t + a u_x = 0.

Returns (t, x, U) where U[n, i] â‰ˆ u(t[n], x[i]).
"""
function leapfrog_advection(u0, a, x, T; r=0.8)
    h  = dx(x)
    dt = r * h
    nt = round(Int, T/dt) + 1
    t  = range(0.0, step=dt, length=nt)

    D  = diff1_mat(x)        # re-used from Module 1-7
    A  = -a * D              # semi-discrete operator u_t = A*u

    U = zeros(nt, length(x))
    # first I.C. (zeroth-step)
    U[1, :] .= u0.(x)
    # first-step starter (exact shift is fine for this linear test)
    U[2, :] .= u0.(x .- a*dt)

    for n in 2:nt-1
        U[n+1, :] .= U[n-1, :] .+ 2dt .* (A * U[n, :])
        apply_dirichlet0!(U[n+1, :])
    end
    t, x, U
end

"""Laxâ€“Friedrichs scheme for linear advection u_t + a u_x = 0.

"""
function lax_friedrichs_advection(u0, a, x, T; r=0.8)
    h  = dx(x)
    dt = r * h
    nt = round(Int, T/dt) + 1
    t  = range(0.0, step=dt, length=nt)

    U = zeros(nt, length(x))
    U[1, :] .= u0.(x)

    for n in 1:nt-1
        U[n+1, 2:end-1] .= 0.5 .* U[n, 1:end-2] .+ 0.5 .* U[n, 3:end] .-
                                  (a*r/2) .* (U[n, 3:end] .- U[n, 1:end-2])
        apply_dirichlet0!(U[n+1, :])
    end
    t, x, U
end

------------------


ParseError:
[90m# Error @ [0;0m]8;;file:///home/vbarra/Dropbox/SDSU/Teaching/Math693B/spring26/lectures/In[2]#27:1\[90mIn[2]:27:1[0;0m]8;;\
"""Convenience: uniform grid spacing."""
[48;2;120;70;70m\[0;0mDelta x(x) = x[2] - x[1]
[90mâ•™ â”€â”€ [0;0m[91mnot a unary operator[0;0m

Stacktrace:
 [1] top-level scope
[90m   @[39m [90m[4mIn[2]:27[24m[39m

